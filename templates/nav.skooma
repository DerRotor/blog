local posts = require 'posts'
local i18n = require 'i18n'

local function map(tab, fn)
	local result = {}
	for key, value in ipairs(tab) do
		result[key] = fn(value)
	end
	return result
end

return function()
	return render.html(nav {
		h1(i18n.navigation);
		ul(map(posts, function(post)
			return li(a {
				href = post.head.uri;
				tostring(post.head.title);
				' ';
				time {
					datetime = post.head.date;
					os.date("%d.%m.%Y", post.head.timestamp);
				}
			})
		end));
	})
end
